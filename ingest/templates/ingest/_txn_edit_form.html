{# templates/ingest/_txn_edit_form.html #}
<form
  hx-post="{% url 'ingest:txn_edit_partial' txn.pk %}?check_id={{ check.pk }}"
  hx-target="#txn-edit-panel"
  hx-swap="innerHTML"
  class="vstack gap-2">

  {% csrf_token %}
  {{ form.non_field_errors }}

  <div class="row g-2">
    <div class="col-6">
      <label class="form-label">Date</label>
      {{ form.date }}
    </div>
    <div class="col-6">
      <label class="form-label">Amount</label>
      {{ form.amount }}
    </div>
  </div>

  <div>
    <label class="form-label">Description</label>
    {{ form.description }}
  </div>

  <div class="row g-2">
    <div class="col-6">
      <label class="form-label">Payoree</label>
      {{ form.payoree }}
    </div>
    <div class="col-6">
      <label class="form-label">Subcategory</label>
      {{ form.subcategory }}
    </div>
  </div>

  <div>
    <label class="form-label">Memo</label>
    {{ form.memo_text }}
  </div>

  <div class="d-flex gap-2 mt-2">
    <button class="btn btn-success btn-sm" type="submit">Save & link image</button>
    <button class="btn btn-outline-secondary btn-sm"
            hx-get="{% url 'ingest:txn_edit_cancel' %}"
            hx-target="#txn-edit-panel"
            hx-swap="innerHTML">Cancel</button>
  </div>

  <input type="hidden" name="link_scanned_check_id" value="{{ check.pk }}">
</form>