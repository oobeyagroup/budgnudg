{% extends "base.html" %}

{% block title %}Categories and Subcategories{% endblock %}

{% block content %}
<h2>Categories and Subcategories</h2>

<ul>
    {% for category in categories %}
        {% if category.parent == None %}
            <li>
                <strong>{{ category.name }}</strong>
                {% with category.subcategories.all as subcats %}
                    {% if subcats %}
                        <ul>
                            {% for sub in subcats %}
                                <li>{{ sub.name }}</li>
                            {% empty %}
                                <li>No subcategories</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <em>No subcategories</em>
                    {% endif %}
                {% endwith %}
            </li>
        {% endif %}
    {% empty %}
        <li>No categories found.</li>
    {% endfor %}
</ul>
{% endblock %}